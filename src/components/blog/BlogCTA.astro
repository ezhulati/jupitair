---
import Button from '../ui/Button.astro';
import PhoneLink from '../ui/PhoneLink.astro';

export interface Props {
  title?: string;
  description?: string;
  variant?: 'inline' | 'end';
}

const {
  title = "Need Professional HVAC Service?",
  description = "Our certified technicians are ready to help with repairs, maintenance, and installations.",
  variant = 'inline'
} = Astro.props;
---

{variant === 'inline' ? (
  <!-- Inline CTA for mid-article placement -->
  <div class="bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500 rounded-r-lg p-6 my-8">
    <p class="text-lg font-semibold text-blue-900">{title}</p>
    <p class="text-blue-800 mt-2">{description}</p>
    <div class="mt-4 flex flex-col sm:flex-row gap-3">
      <PhoneLink variant="button" size="md" context="blog" class="inline-flex justify-center" />
      <Button href="/schedule" variant="outline" size="md" class="justify-center">
        Schedule Online
      </Button>
    </div>
  </div>
) : (
  <!-- End of article CTA -->
  <div class="bg-gradient-to-br from-primary-600 to-primary-700 rounded-2xl p-8 sm:p-10 my-12 text-white shadow-xl">
    <div class="text-center max-w-3xl mx-auto">
      <h2 class="text-2xl sm:text-3xl font-bold mb-4">{title}</h2>
      <p class="text-lg sm:text-xl text-primary-100 mb-8">
        {description}
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <PhoneLink variant="button" size="lg" context="blog" class="bg-white text-primary-700 hover:bg-gray-100" />
        <Button href="/contact" variant="outline" size="lg" class="border-white text-white hover:bg-white hover:text-primary-700">
          Get Free Estimate
        </Button>
      </div>
      <p class="text-sm text-primary-200 mt-6">
        24/7 Emergency Service • Licensed & Insured • Satisfaction Guaranteed
      </p>
    </div>
  </div>
)}

<style>
  /* Mobile-first responsive design */
  @media (max-width: 640px) {
    .flex-col {
      width: 100%;
    }
  }
</style>