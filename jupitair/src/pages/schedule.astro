---
import BaseLayout from '../layouts/BaseLayout.astro';
import PremiumHero from '../components/layout/PremiumHero.astro';
import Button from '../components/ui/Button.astro';
import PremiumCard from '../components/ui/PremiumCard.astro';
import Icon from '../components/ui/Icon.astro';

const residentialServices = [
  { name: 'AC Repair', slug: 'ac-repair', icon: 'wrench' },
  { name: 'Heating Repair', slug: 'furnace-repair', icon: 'wrench' },
  { name: 'AC Installation', slug: 'ac-installation', icon: 'check' },
  { name: 'AC Maintenance', slug: 'ac-maintenance', icon: 'shield' },
  { name: 'Emergency Service', slug: 'emergency-ac-repair', icon: 'emergency' },
  { name: 'Heat Pump Service', slug: 'heat-pump-repair', icon: 'wrench' },
  { name: 'Duct Cleaning', slug: 'duct-repair-sealing', icon: 'check' },
  { name: 'Indoor Air Quality', slug: 'indoor-air-quality', icon: 'check' }
];

const commercialServices = [
  { name: 'Restaurant HVAC', slug: 'restaurant-hvac', icon: 'restaurant' },
  { name: 'Retail & Strip Mall', slug: 'retail-hvac', icon: 'shopping' },
  { name: 'Office Buildings', slug: 'office-hvac', icon: 'office' },
  { name: 'RTU Replacement', slug: 'rtu-replacement', icon: 'construction' },
  { name: 'Emergency Service', slug: 'emergency-service', icon: 'emergency' },
  { name: 'Preventive Maintenance', slug: 'preventive-maintenance', icon: 'wrench' },
  { name: 'New Installation', slug: 'new-installation', icon: 'construction' },
  { name: 'Chiller Systems', slug: 'chiller-systems', icon: 'check' }
];
---

<BaseLayout 
  title="Schedule HVAC Service | Jupitair HVAC"
  description="Schedule professional HVAC service in North Texas. Choose residential or commercial service and get fast, reliable help."
>
  <PremiumHero 
    title="Schedule Your Service"
    subtitle="Fast, Professional HVAC Service"
    description="Choose your service type to get started with scheduling"
    variant="gradient"
    height="md"
  />

  <!-- Service Type Selection -->
  <section class="py-16 bg-white">
    <div class="container mx-auto px-4">
      <div class="max-w-6xl mx-auto">
        
        <!-- Step 1: Choose Service Type -->
        <div id="service-type-selection">
          <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-900 mb-4">What type of service do you need?</h2>
            <p class="text-xl text-gray-600">Select the category that best fits your needs</p>
          </div>
          
          <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
            <!-- Residential Option -->
            <PremiumCard 
              variant="elevated" 
              padding="lg" 
              class="cursor-pointer hover:shadow-2xl transition-all duration-300 border-2 border-transparent hover:border-primary-500"
              id="residential-card"
            >
              <div class="text-center">
                <div class="mb-4 text-primary-600">
                  <svg class="w-16 h-16 mx-auto" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                  </svg>
                </div>
                <h3 class="text-2xl font-bold text-gray-900 mb-2">Residential Service</h3>
                <p class="text-gray-600 mb-4">Home AC, heating, and indoor air quality services</p>
                <ul class="text-left text-sm text-gray-600 space-y-2 mb-6">
                  <li class="flex items-center">
                    <svg class="w-4 h-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                    AC Repair & Installation
                  </li>
                  <li class="flex items-center">
                    <svg class="w-4 h-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                    Heating & Furnace Service
                  </li>
                  <li class="flex items-center">
                    <svg class="w-4 h-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                    24/7 Emergency Service
                  </li>
                </ul>
                <Button variant="primary" size="lg" class="w-full" id="residential-btn">
                  Select Residential →
                </Button>
              </div>
            </PremiumCard>

            <!-- Commercial Option -->
            <PremiumCard 
              variant="elevated" 
              padding="lg" 
              class="cursor-pointer hover:shadow-2xl transition-all duration-300 border-2 border-transparent hover:border-primary-500"
              id="commercial-card"
            >
              <div class="text-center">
                <div class="mb-4 text-primary-600">
                  <svg class="w-16 h-16 mx-auto" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"/>
                  </svg>
                </div>
                <h3 class="text-2xl font-bold text-gray-900 mb-2">Commercial Service</h3>
                <p class="text-gray-600 mb-4">Business HVAC, RTU, and preventive maintenance</p>
                <ul class="text-left text-sm text-gray-600 space-y-2 mb-6">
                  <li class="flex items-center">
                    <svg class="w-4 h-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                    Restaurant & Retail HVAC
                  </li>
                  <li class="flex items-center">
                    <svg class="w-4 h-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                    RTU Replacement
                  </li>
                  <li class="flex items-center">
                    <svg class="w-4 h-4 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                    Maintenance Programs
                  </li>
                </ul>
                <Button variant="primary" size="lg" class="w-full" id="commercial-btn">
                  Select Commercial →
                </Button>
              </div>
            </PremiumCard>
          </div>
        </div>

        <!-- Step 2: Residential Services -->
        <div id="residential-services" class="hidden">
          <div class="mb-8">
            <button id="back-to-types-1" class="text-primary-600 hover:text-primary-700 font-medium flex items-center gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
              </svg>
              Back to Service Type
            </button>
          </div>
          
          <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-900 mb-4">Select Your Residential Service</h2>
            <p class="text-xl text-gray-600">Choose the specific service you need</p>
          </div>
          
          <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
            {residentialServices.map(service => (
              <PremiumCard variant="elevated" padding="md" class="hover:shadow-xl transition-all duration-300">
                <a href={`/contact?service=${service.slug}&type=residential`} class="block">
                  <div class="flex items-center gap-4">
                    <div class="text-primary-600">
                      <Icon name={service.icon} size="lg" />
                    </div>
                    <div>
                      <h3 class="font-semibold text-gray-900">{service.name}</h3>
                      {service.slug === 'emergency-ac-repair' && (
                        <span class="text-xs text-emergency-600 font-medium">24/7 Available</span>
                      )}
                    </div>
                  </div>
                </a>
              </PremiumCard>
            ))}
          </div>
        </div>

        <!-- Step 2: Commercial Services -->
        <div id="commercial-services" class="hidden">
          <div class="mb-8">
            <button id="back-to-types-2" class="text-primary-600 hover:text-primary-700 font-medium flex items-center gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
              </svg>
              Back to Service Type
            </button>
          </div>
          
          <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-900 mb-4">Select Your Commercial Service</h2>
            <p class="text-xl text-gray-600">Choose the specific service you need for your business</p>
          </div>
          
          <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
            {commercialServices.map(service => (
              <PremiumCard variant="elevated" padding="md" class="hover:shadow-xl transition-all duration-300">
                <a href={`/contact?service=${service.slug}&type=commercial`} class="block">
                  <div class="flex items-center gap-4">
                    <div class="text-primary-600">
                      <Icon name={service.icon} size="lg" />
                    </div>
                    <div>
                      <h3 class="font-semibold text-gray-900">{service.name}</h3>
                      {service.slug === 'emergency-service' && (
                        <span class="text-xs text-emergency-600 font-medium">24/7 Available</span>
                      )}
                    </div>
                  </div>
                </a>
              </PremiumCard>
            ))}
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Emergency CTA -->
  <section class="py-12 bg-emergency-50 border-y-2 border-emergency-200">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto text-center">
        <h3 class="text-2xl font-bold text-gray-900 mb-4">Need Emergency Service?</h3>
        <p class="text-lg text-gray-700 mb-6">
          Don't wait for scheduling - call us directly for immediate assistance
        </p>
        <Button href="tel:9403905676" variant="emergency" size="lg" class="inline-flex items-center gap-2">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"/>
          </svg>
          Call Now: (940) 390-5676
        </Button>
        <p class="text-sm text-gray-600 mt-3">Available 24/7 for emergency HVAC service</p>
      </div>
    </div>
  </section>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const serviceTypeSelection = document.getElementById('service-type-selection');
      const residentialServices = document.getElementById('residential-services');
      const commercialServices = document.getElementById('commercial-services');
      
      function showServiceTypes() {
        serviceTypeSelection?.classList.remove('hidden');
        residentialServices?.classList.add('hidden');
        commercialServices?.classList.add('hidden');
      }

      function showResidentialServices() {
        serviceTypeSelection?.classList.add('hidden');
        residentialServices?.classList.remove('hidden');
        commercialServices?.classList.add('hidden');
      }

      function showCommercialServices() {
        serviceTypeSelection?.classList.add('hidden');
        residentialServices?.classList.add('hidden');
        commercialServices?.classList.remove('hidden');
      }
      
      // Residential card and button clicks
      const residentialCard = document.getElementById('residential-card');
      const residentialBtn = document.getElementById('residential-btn');
      if (residentialCard) {
        residentialCard.addEventListener('click', showResidentialServices);
      }
      if (residentialBtn) {
        residentialBtn.addEventListener('click', function(e) {
          e.stopPropagation();
          showResidentialServices();
        });
      }
      
      // Commercial card and button clicks
      const commercialCard = document.getElementById('commercial-card');
      const commercialBtn = document.getElementById('commercial-btn');
      if (commercialCard) {
        commercialCard.addEventListener('click', showCommercialServices);
      }
      if (commercialBtn) {
        commercialBtn.addEventListener('click', function(e) {
          e.stopPropagation();
          showCommercialServices();
        });
      }
      
      // Back buttons
      const backBtn1 = document.getElementById('back-to-types-1');
      const backBtn2 = document.getElementById('back-to-types-2');
      if (backBtn1) {
        backBtn1.addEventListener('click', showServiceTypes);
      }
      if (backBtn2) {
        backBtn2.addEventListener('click', showServiceTypes);
      }
    });
  </script>
</BaseLayout>