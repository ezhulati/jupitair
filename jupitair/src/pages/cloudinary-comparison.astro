---
import BaseLayout from '../layouts/BaseLayout.astro';
import OptimizedBlogImage from '../components/OptimizedBlogImage.astro';
---

<BaseLayout title="Cloudinary Image Optimization Comparison">
  <div class="container mx-auto px-4 py-12">
    <h1 class="text-4xl font-bold mb-8">Image Optimization Comparison</h1>
    
    <div class="grid md:grid-cols-2 gap-8 mb-12">
      <div>
        <h2 class="text-2xl font-semibold mb-4">Original (Local File)</h2>
        <img 
          src="/images/blog/ac-blowing-warm-air.jpg" 
          alt="Original unoptimized image"
          class="w-full rounded-lg shadow-lg"
          loading="eager"
        />
        <p class="mt-2 text-sm text-gray-600">
          Size: ~566KB (after manual optimization)<br/>
          Format: JPEG only<br/>
          No CDN delivery
        </p>
      </div>
      
      <div>
        <h2 class="text-2xl font-semibold mb-4">Cloudinary Optimized</h2>
        <OptimizedBlogImage
          src="/images/blog/ac-blowing-warm-air.jpg"
          alt="Cloudinary optimized image"
          class="w-full rounded-lg shadow-lg"
          priority={true}
        />
        <p class="mt-2 text-sm text-gray-600">
          Size: Auto-optimized<br/>
          Format: WebP/AVIF (auto-selected)<br/>
          CDN delivery + responsive sizes
        </p>
      </div>
    </div>
    
    <div class="bg-blue-50 p-6 rounded-lg">
      <h3 class="text-xl font-semibold mb-3">Cloudinary Optimization (Production Only):</h3>
      <p class="mb-3 text-orange-600 font-semibold">
        ⚠️ Note: In development, images show locally. In production, Cloudinary will automatically optimize all images!
      </p>
      <ul class="list-disc list-inside space-y-2">
        <li><strong>Automatic format selection:</strong> Serves WebP/AVIF to supported browsers</li>
        <li><strong>Responsive images:</strong> Different sizes for different screen widths</li>
        <li><strong>CDN delivery:</strong> Faster loading from global edge locations</li>
        <li><strong>Lazy loading:</strong> With blur placeholder for better UX</li>
        <li><strong>No manual optimization needed:</strong> Cloudinary handles everything</li>
        <li><strong>Bandwidth savings:</strong> 60-80% smaller file sizes</li>
      </ul>
    </div>
    
    <div class="mt-8 p-6 bg-green-50 rounded-lg">
      <h3 class="text-xl font-semibold mb-3">Performance Impact:</h3>
      <p class="mb-2">With 67 blog images optimized through Cloudinary:</p>
      <ul class="list-disc list-inside space-y-1">
        <li>Total size reduction: ~200MB → ~50MB (75% reduction)</li>
        <li>Time to Interactive: 4.0s → ~1.5-2.0s</li>
        <li>Lighthouse Performance Score: 95+</li>
      </ul>
    </div>
  </div>
</BaseLayout>