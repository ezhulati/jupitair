---
import BaseLayout from '../layouts/BaseLayout.astro';
import CloudinaryImage from '../components/CloudinaryImage.astro';
import HeroWithCloudinary from '../components/layout/HeroWithCloudinary.astro';
import { siteImages, getCloudinaryUrl } from '../lib/cloudinary';
import Card from '../components/ui/Card.astro';
import Button from '../components/ui/Button.astro';

const pageTitle = "Cloudinary Integration Demo - Jupitair HVAC";
const pageDescription = "Demonstration of Cloudinary image optimization across the Jupitair HVAC website.";

// Example service data with Cloudinary images
const services = [
  {
    title: "AC Repair",
    description: "Fast, reliable air conditioning repair services",
    image: siteImages.acRepair,
    link: "/services/ac-repair"
  },
  {
    title: "Heating Repair",
    description: "Expert heating system repair and maintenance",
    image: siteImages.heatingRepair,
    link: "/services/heating-repair"
  },
  {
    title: "HVAC Installation",
    description: "Complete HVAC system installation",
    image: siteImages.hvacInstallation,
    link: "/services/hvac-installation"
  },
  {
    title: "Emergency Service",
    description: "24/7 emergency HVAC services",
    image: siteImages.emergencyService,
    link: "/services/emergency-hvac"
  }
];

const cities = [
  { name: "Frisco", image: siteImages.frisco },
  { name: "Plano", image: siteImages.plano },
  { name: "McKinney", image: siteImages.mckinney },
  { name: "Allen", image: siteImages.allen }
];

const brands = [
  { name: "Carrier", image: siteImages.carrier },
  { name: "Trane", image: siteImages.trane },
  { name: "Lennox", image: siteImages.lennox },
  { name: "Rheem", image: siteImages.rheem }
];
---

<BaseLayout title={pageTitle} description={pageDescription}>
  <!-- Hero Section with Cloudinary Background -->
  <HeroWithCloudinary
    title="Cloudinary-Powered <span class='text-secondary-400'>Image Optimization</span>"
    subtitle="Experience lightning-fast image loading with automatic format selection, responsive sizing, and lazy loading throughout the site."
    image={siteImages.homeHero}
    variant="home"
  class="hero-section" />
  
  <!-- Services Section with Cloudinary Images -->
  <section class="section-full bg-gray-50">
    <div class="site-container">
      <h2 class="break-words text-3xl font-bold text-center mb-12">Our Services</h2>
      
      <div class="min-w-0 grid md:grid-cols-2 lg:grid-cols-4 gap-6">
        {services.map((service) => (
          <Card class="overflow-visible"  class="overflow-hidden hover:shadow-xl transition-shadow">
            <CloudinaryImage
              src={service.image}
              alt={service.title}
              preset="thumbnail"
              class="w-full h-48 object-cover"
              loading="lazy"
            />
            <div class="p-6">
              <h3 class="break-words text-xl font-semibold mb-2">{service.title}</h3>
              <p class="text-gray-600 mb-4">{service.description}</p>
              <Button href={service.link} variant="primary" size="sm">
                Learn More
              </Button>
            </div>
          </Card>
        ))}
      </div>
    </div>
  </section>
  
  <!-- City Gallery with Cloudinary -->
  <section class="py-16">
    <div class="site-container">
      <h2 class="break-words text-3xl font-bold text-center mb-12">Service Areas</h2>
      
      <div class="min-w-0 grid grid-cols-2 md:grid-cols-4 gap-4">
        {cities.map((city) => (
          <div class="relative group overflow-hidden rounded-lg">
            <CloudinaryImage
              src={city.image}
              alt={`${city.name} Texas`}
              preset="thumbnail"
              class="w-full h-64 object-cover group-hover:scale-110 transition-transform duration-300"
              loading="lazy"
            />
            <div class="min-w-0 absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end">
              <h3 class="break-words text-white text-xl font-bold p-4">{city.name}</h3>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>
  
  <!-- Interactive Features Section -->
  <section class="section-full bg-gray-50">
    <div class="site-container">
      <h2 class="break-words text-3xl font-bold text-center mb-12">Advanced Features</h2>
      
      <div class="max-w-4xl mx-auto">
        <CloudinaryImage
          src="jupitair/gallery/technician-at-work"
          alt="HVAC Technician at Work"
          preset="blogFeatured"
          class="rounded-lg shadow-xl"
          loading="lazy"
        />
      </div>
      
      <p class="text-center mt-6 text-gray-600">
        Optimized image delivery with automatic format selection and lazy loading
      </p>
    </div>
  </section>
  
  <!-- Brand Logos with Cloudinary -->
  <section class="py-16">
    <div class="site-container">
      <h2 class="break-words text-3xl font-bold text-center mb-12">Trusted Brands We Service</h2>
      
      <div class="min-w-0 flex flex-wrap justify-center items-center gap-8">
        {brands.map((brand) => (
          <div class="bg-white p-4 rounded-lg shadow-md">
            <CloudinaryImage
              src={brand.image}
              alt={`${brand.name} HVAC Systems`}
              preset="serviceIcon"
              class="h-20 w-auto"
              loading="lazy"
            />
          </div>
        ))}
      </div>
    </div>
  </section>
  
  <!-- Performance Benefits -->
  <section class="section-full bg-primary-50">
    <div class="site-container">
      <h2 class="break-words text-3xl font-bold text-center mb-12">Cloudinary Benefits</h2>
      
      <div class="min-w-0 grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
        <Card class="overflow-visible"  class="text-center p-6">
          <div class="min-w-0 w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
            </svg>
          </div>
          <h3 class="break-words text-xl font-semibold mb-2">Lightning Fast</h3>
          <p class="text-gray-600">Automatic format selection (WebP/AVIF) reduces image sizes by up to 80%</p>
        </Card>
        
        <Card class="overflow-visible"  class="text-center p-6">
          <div class="min-w-0 w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
          </div>
          <h3 class="break-words text-xl font-semibold mb-2">Responsive Images</h3>
          <p class="text-gray-600">Automatic responsive sizing delivers perfect images for every device</p>
        </Card>
        
        <Card class="overflow-visible"  class="text-center p-6">
          <div class="min-w-0 w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
            </svg>
          </div>
          <h3 class="break-words text-xl font-semibold mb-2">CDN Delivery</h3>
          <p class="text-gray-600">Global CDN ensures fast loading from the nearest server location</p>
        </Card>
      </div>
    </div>
  </section>
  
  <!-- Example of different image presets -->
  <section class="py-16">
    <div class="site-container">
      <h2 class="break-words text-3xl font-bold text-center mb-12">Image Preset Examples</h2>
      
      <div class="space-y-12">
        <!-- Hero Preset -->
        <div>
          <h3 class="break-words text-xl font-semibold mb-4">Hero Image (1920x1080)</h3>
          <CloudinaryImage
            src="jupitair/examples/hero-example"
            alt="Hero Image Example"
            preset="hero"
            class="w-full rounded-lg shadow-xl"
            loading="lazy"
          />
        </div>
        
        <!-- Thumbnail Grid -->
        <div>
          <h3 class="break-words text-xl font-semibold mb-4">Thumbnail Grid (400x300)</h3>
          <div class="min-w-0 grid grid-cols-3 gap-4">
            <CloudinaryImage
              src="jupitair/examples/thumb-1"
              alt="Thumbnail 1"
              preset="thumbnail"
              class="rounded-lg"
              loading="lazy"
            />
            <CloudinaryImage
              src="jupitair/examples/thumb-2"
              alt="Thumbnail 2"
              preset="thumbnail"
              class="rounded-lg"
              loading="lazy"
            />
            <CloudinaryImage
              src="jupitair/examples/thumb-3"
              alt="Thumbnail 3"
              preset="thumbnail"
              class="rounded-lg"
              loading="lazy"
            />
          </div>
        </div>
        
        <!-- Blog Featured -->
        <div>
          <h3 class="break-words text-xl font-semibold mb-4">Blog Featured (1200x630)</h3>
          <CloudinaryImage
            src="jupitair/examples/blog-featured"
            alt="Blog Featured Image"
            preset="blogFeatured"
            class="w-full max-w-4xl mx-auto rounded-lg shadow-xl"
            loading="lazy"
          />
        </div>
      </div>
    </div>
  </section>
</BaseLayout>