---
import Button from '../ui/Button.astro';
import Badge from '../ui/Badge.astro';
import CloudinaryImage from '../CloudinaryImage.astro';
import { siteImages } from '../../lib/cloudinary';

export interface Props {
  title?: string;
  subtitle?: string;
  image?: string;
  showEmergencyBadge?: boolean;
  showCTA?: boolean;
  variant?: 'home' | 'service' | 'city' | 'about';
}

const {
  title = 'North Texas Premier HVAC Services',
  subtitle = 'Professional AC repair, heating services, and HVAC installation throughout Frisco, Plano, McKinney, Allen, Prosper, The Colony, Little Elm, and Addison.',
  image = siteImages.homeHero,
  showEmergencyBadge = true,
  showCTA = true,
  variant = 'home'
} = Astro.props;
---

<section class="relative bg-gradient-to-br from-primary-700 via-primary-600 to-primary-800 text-white overflow-hidden">
  <!-- Cloudinary Background Image -->
  <div class="absolute inset-0 z-0">
    <CloudinaryImage
      src={image}
      alt="HVAC Services in North Texas"
      preset="hero"
      class="w-full h-full object-cover opacity-20"
      loading="eager"
    />
  </div>
  
  <!-- Gradient Overlay -->
  <div class="absolute inset-0 bg-gradient-to-br from-primary-900/70 via-primary-800/60 to-primary-700/50 z-10"></div>
  
  <!-- Background pattern overlay -->
  <div class="absolute inset-0 opacity-10 z-10">
    <svg class="absolute inset-0 h-full w-full" fill="currentColor" viewBox="0 0 100 100" preserveAspectRatio="none">
      <polygon points="0,100 100,0 100,100"/>
    </svg>
  </div>
  
  <div class="container mx-auto px-4 sm:px-6 lg:px-8 xl:px-12 max-w-7xl relative z-20 py-16 sm:py-20 lg:py-28 xl:py-32">
    <div class="grid lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center">
      
      <!-- Hero Content -->
      <div class="text-center lg:text-left">
        {showEmergencyBadge && (
          <div class="mb-6">
            <Badge variant="emergency" size="lg" class="inline-flex items-center space-x-2">
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"/>
              </svg>
              <span>24/7 Emergency Service Available</span>
            </Badge>
          </div>
        )}
        
        <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-6xl xl:text-7xl font-bold mb-4 sm:mb-6 leading-tight text-center lg:text-left" set:html={title}>
        </h1>
        
        <p class="text-lg sm:text-xl md:text-2xl text-blue-100 mb-6 sm:mb-8 leading-relaxed max-w-2xl mx-auto lg:mx-0">
          {subtitle}
        </p>
        
        {variant === 'home' && (
          <ul class="mb-8 space-y-3 text-lg">
            <li class="flex items-center justify-center lg:justify-start">
              <svg class="w-6 h-6 text-secondary-400 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
              </svg>
              Same-Day Service Available
            </li>
            <li class="flex items-center justify-center lg:justify-start">
              <svg class="w-6 h-6 text-secondary-400 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
              </svg>
              Licensed & Insured Technicians
            </li>
            <li class="flex items-center justify-center lg:justify-start">
              <svg class="w-6 h-6 text-secondary-400 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
              </svg>
              100% Satisfaction Guaranteed
            </li>
          </ul>
        )}
        
        {showCTA && (
          <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
            <Button 
              href="/contact" 
              variant="secondary" 
              size="xl"
              class="hover:scale-105 transition-transform shadow-2xl"
            >
              Get Quote
            </Button>
            <Button 
              href="tel:9403905676" 
              variant="white" 
              size="xl"
              class="hover:scale-105 transition-transform"
            >
              <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"/>
              </svg>
              (940) 390-5676
            </Button>
          </div>
        )}
      </div>
      
      <!-- Hero Image for Desktop -->
      <div class="hidden lg:block">
        <div class="relative">
          <CloudinaryImage
            src={image}
            alt="Professional HVAC technician servicing AC unit"
            preset="blogFeatured"
            class="rounded-lg shadow-2xl"
            loading="eager"
          />
          
          <!-- Trust Badges -->
          <div class="absolute -bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-4">
            <CloudinaryImage
              src={siteImages.nate}
              alt="NATE Certified"
              preset="serviceIcon"
              class="h-16 w-auto bg-white rounded-lg p-2 shadow-lg"
            />
            <CloudinaryImage
              src={siteImages.epa}
              alt="EPA Certified"
              preset="serviceIcon"
              class="h-16 w-auto bg-white rounded-lg p-2 shadow-lg"
            />
            <CloudinaryImage
              src={siteImages.bbb}
              alt="BBB Accredited"
              preset="serviceIcon"
              class="h-16 w-auto bg-white rounded-lg p-2 shadow-lg"
            />
          </div>
        </div>
      </div>
    </div>
  </div>
</section>