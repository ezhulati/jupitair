---
import Button from '../ui/Button.astro';
import PhoneLink from '../ui/PhoneLink.astro';
import { BUSINESS_CONFIG } from '../../config/business';

export interface Props {
  title?: string;
  description?: string;
  variant?: 'inline' | 'end';
}

const {
  title = "Need Professional HVAC Service?",
  description = "Our certified technicians are ready to help with repairs, maintenance, and installations.",
  variant = 'inline'
} = Astro.props;
---

{variant === 'inline' ? (
  <!-- Inline CTA for mid-article placement -->
  <div class="bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg p-6 my-8">
    <p class="text-lg font-semibold text-white">{title}</p>
    <p class="text-blue-100 mt-2">{description}</p>
    <div class="mt-4 flex flex-col sm:flex-row gap-3">
      <PhoneLink variant="button" size="md" context="blog" class="inline-flex justify-center" />
      <Button href="/contact" variant="outline" size="md" class="justify-center !border-white !text-white hover:!bg-white hover:!text-blue-600">
        Schedule Online
      </Button>
    </div>
  </div>
) : (
  <!-- End of article CTA -->
  <div class="bg-gradient-to-br from-primary-600 to-primary-700 rounded-2xl p-8 sm:p-10 my-12 text-white shadow-xl">
    <div class="text-center max-w-3xl mx-auto">
      <h2 class="text-2xl sm:text-3xl font-bold mb-4">{title}</h2>
      <p class="text-lg sm:text-xl text-white/90 mb-8">
        {description}
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <PhoneLink 
          variant="premium"
          size="lg"
          context="blog"
          class="bg-white text-blue-600 hover:bg-blue-500 hover:text-white border-0"
        />
        <Button 
          href="/contact" 
          variant="outline" 
          size="lg" 
          class="!border-white !text-white hover:!bg-white hover:!text-blue-600 transition-all"
        >
          Get Free Estimate
        </Button>
      </div>
      <p class="text-sm text-primary-200 mt-6">
        24/7 Emergency Service • Licensed & Insured • Satisfaction Guaranteed
      </p>
    </div>
  </div>
)}

<style>
  /* Mobile-first responsive design */
  @media (max-width: 640px) {
    .flex-col {
      width: 100%;
    }
  }
</style>