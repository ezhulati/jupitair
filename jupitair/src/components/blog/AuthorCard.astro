---
/**
 * Author Bio Card Component for Jupitair HVAC Blog
 * Features: Professional presentation, trust indicators, contact options
 */

interface Props {
  author: string;
  className?: string;
}

const { author, className = '' } = Astro.props;

// Author information mapping
const authorInfo = {
  'Jupitair HVAC Team': {
    name: 'Jupitair HVAC Team',
    title: 'Licensed HVAC Professionals',
    bio: 'Our team consists of licensed HVAC technicians and comfort specialists with over 15 years of experience serving North Texas. We\'re committed to providing honest, expert advice to help homeowners make informed decisions about their heating and cooling systems.',
    avatar: 'https://res.cloudinary.com/jupitair/image/upload/c_fill,w_150,h_150,q_auto,f_auto/v1/team/jupitair-team',
    credentials: [
      'Licensed HVAC Contractors',
      'NATE Certified Technicians',
      '15+ Years Experience',
      'Locally Owned & Operated'
    ],
    serviceAreas: ['Frisco', 'Plano', 'McKinney', 'Allen', 'Prosper', 'Little Elm', 'The Colony', 'Addison'],
    phone: '(940) 390-5676',
    email: 'info@jupitairhvac.com'
  },
  'John Smith': {
    name: 'John Smith',
    title: 'Senior HVAC Technician',
    bio: 'John has been with Jupitair HVAC for over 8 years and specializes in emergency AC repairs and system diagnostics. He holds multiple HVAC certifications and is passionate about helping customers understand their systems.',
    avatar: '/images/team/john-smith.jpg',
    credentials: [
      'NATE Certified',
      'EPA 608 Certified',
      '8+ Years with Jupitair',
      'Emergency Service Specialist'
    ]
  }
};

const currentAuthor = authorInfo[author as keyof typeof authorInfo] || authorInfo['Jupitair HVAC Team'];
---

<div class={`author-card bg-gray-50 rounded-xl border border-gray-200 p-6 ${className}`}>
  <div class="flex flex-col sm:flex-row gap-4">
    <!-- Author Avatar -->
    <div class="flex-shrink-0">
      <div class="w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-blue-100 flex items-center justify-center overflow-hidden">
        {currentAuthor.avatar ? (
          <img 
            src={currentAuthor.avatar} 
            alt={currentAuthor.name}
            class="w-full h-full object-cover"
            loading="lazy"
            onerror="this.style.display='none'; this.parentElement.innerHTML='<svg class=\\'w-8 h-8 sm:w-10 sm:h-10 text-blue-600\\' fill=\\'currentColor\\' viewBox=\\'0 0 20 20\\'><path d=\\'M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\\'/></svg>'"
          />
        ) : (
          <!-- Default avatar icon -->
          <svg class="w-8 h-8 sm:w-10 sm:h-10 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"/>
          </svg>
        )}
      </div>
    </div>

    <!-- Author Info -->
    <div class="flex-1 min-w-0">
      <!-- Name and Title -->
      <div class="mb-3">
        <h3 class="text-lg font-bold text-gray-900 mb-1">{currentAuthor.name}</h3>
        <p class="text-sm font-medium text-blue-600">{currentAuthor.title}</p>
      </div>

      <!-- Bio -->
      <p class="text-gray-700 text-sm leading-relaxed mb-4">
        {currentAuthor.bio}
      </p>

      <!-- Credentials -->
      {currentAuthor.credentials && (
        <div class="mb-4">
          <h4 class="text-sm font-semibold text-gray-900 mb-2">Credentials & Experience</h4>
          <div class="flex flex-wrap gap-2">
            {currentAuthor.credentials.map(credential => (
              <span class="inline-flex items-center px-2 py-1 bg-white border border-gray-200 rounded-md text-xs text-gray-700">
                <svg class="w-3 h-3 text-green-500 mr-1" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                </svg>
                {credential}
              </span>
            ))}
          </div>
        </div>
      )}

      <!-- Service Areas (for team) -->
      {currentAuthor.serviceAreas && (
        <div class="mb-4">
          <h4 class="text-sm font-semibold text-gray-900 mb-2">Service Areas</h4>
          <div class="flex flex-wrap gap-1">
            {currentAuthor.serviceAreas.map(area => (
              <a 
                href={`/${area.toLowerCase().replace(' ', '-')}`}
                class="text-xs text-blue-600 hover:text-blue-700 hover:underline"
              >
                {area}
              </a>
            )).reduce((prev, curr, index) => (
              index === 0 ? [curr] : [...prev, <span class="text-gray-400 text-xs">â€¢</span>, curr]
            ), [])}
          </div>
        </div>
      )}

      <!-- Contact Options -->
      <div class="flex flex-wrap gap-3 pt-3 border-t border-gray-200">
        {currentAuthor.phone && (
          <a 
            href={`tel:${currentAuthor.phone}`}
            class="inline-flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700 font-medium"
          >
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
            </svg>
            Call Expert
          </a>
        )}
        
        <a 
          href="/contact"
          class="inline-flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700 font-medium"
        >
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m-6 0h6m-6 0v6a2 2 0 002 2h2a2 2 0 002-2V7"/>
          </svg>
          Schedule Service
        </a>

        <a 
          href="/blog"
          class="inline-flex items-center gap-1 text-sm text-gray-600 hover:text-gray-700"
        >
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
          </svg>
          More Articles
        </a>
      </div>
    </div>
  </div>

  <!-- Professional Trust Indicators -->
  <div class="mt-4 pt-4 border-t border-gray-200">
    <div class="flex flex-wrap items-center gap-4 text-xs text-gray-600">
      <div class="flex items-center gap-1">
        <svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
        </svg>
        <span>Licensed & Insured</span>
      </div>
      
      <div class="flex items-center gap-1">
        <svg class="w-4 h-4 text-blue-500" fill="currentColor" viewBox="0 0 20 20">
          <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
        </svg>
        <span>4.9/5 Customer Rating</span>
      </div>
      
      <div class="flex items-center gap-1">
        <svg class="w-4 h-4 text-red-500" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
        </svg>
        <span>24/7 Emergency Service</span>
      </div>
    </div>
  </div>
</div>

<style>
  .author-card {
    background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
    transition: all 0.3s ease;
  }
  
  .author-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
  }
  
  /* Responsive adjustments */
  @media (max-width: 640px) {
    .author-card {
      padding: 1rem;
    }
  }
</style>