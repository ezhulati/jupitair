import"./hoisted.FT4Uu3CM.js";import"./hoisted.TPN0VwQL.js";document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('form[name="contact"]').forEach(i=>{const a=i.querySelectorAll("input[required], textarea[required], select[required]");a.forEach(t=>{t.addEventListener("blur",l),t.addEventListener("input",c)}),i.addEventListener("submit",async function(t){t.preventDefault();let e=!0;if(a.forEach(o=>{l({target:o})||(e=!1)}),!e){const o=i.querySelector(".error-message:not(:empty)");o&&i.querySelector(`#${o.id.replace("-error","")}`)?.focus();return}const r=new FormData(i),n=Object.fromEntries(r),s=i.querySelector('button[type="submit"]'),f=s.textContent;s.disabled=!0,s.textContent="Submitting...";try{if((await fetch("/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(r).toString()})).ok){const p=n.service==="emergency"?"/success?emergency=true":"/success";window.location.href=p}else throw new Error("Form submission failed")}catch(o){console.error("Form submission error:",o),d(s,"Unable to submit form. Please call us directly at (940) 390-5676")}finally{s.disabled=!1,s.textContent=f}});function l(t){const e=t.target,r=document.getElementById(`${e.id}-error`);if(!r)return!0;let n="";return e.required&&!e.value.trim()?n=`${e.labels[0]?.textContent.replace("*","").trim()} is required`:e.type==="email"&&e.value&&!u(e.value)?n="Please enter a valid email address":e.type==="tel"&&e.value&&!m(e.value)&&(n="Please enter a valid phone number"),r.textContent=n,n?(e.setAttribute("aria-invalid","true"),!1):(e.setAttribute("aria-invalid","false"),!0)}function c(t){const e=t.target,r=document.getElementById(`${e.id}-error`);r&&e.value&&(r.textContent="",e.setAttribute("aria-invalid","false"))}function d(t,e){const r=document.createElement("div");r.className="mt-2 p-2 bg-red-100 border border-red-300 rounded text-red-700 text-sm",r.textContent=e,t.parentNode.appendChild(r),setTimeout(()=>{r.remove()},5e3)}function u(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function m(t){return t.replace(/\D/g,"").length>=10}})});
