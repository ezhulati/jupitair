function h(){const s=new Date,c=new Date(s.toLocaleString("en-US",{timeZone:"America/Chicago"})).getHours();return c>=19||c<7}function w(){const s=()=>{const n=h();document.body.classList.toggle("after-hours",n),document.querySelectorAll("[data-emergency-cta]").forEach(a=>{if(n){if(!a.querySelector(".after-hours-badge")&&a instanceof HTMLElement){const r=document.createElement("span");r.className="after-hours-badge inline-block ml-2 px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full font-semibold",r.textContent="+$250 after 7pm",a.appendChild(r)}}else{const l=a.querySelector(".after-hours-badge");l&&l.remove()}})};s(),setInterval(s,6e4),document.addEventListener("visibilitychange",()=>{document.hidden||s()})}document.addEventListener("DOMContentLoaded",w);console.log("GTM placeholder - add actual tracking code");document.addEventListener("DOMContentLoaded",function(){const s=document.getElementById("mobile-menu-btn"),n=document.getElementById("mobile-menu"),c=document.getElementById("mobile-overlay"),a=document.getElementById("mobile-close"),l=document.getElementById("hamburger"),r=document.getElementById("close");function v(){n.classList.add("open"),c.classList.remove("opacity-0","invisible"),l.classList.add("hidden"),r.classList.remove("hidden"),document.body.style.overflow="hidden",s.setAttribute("aria-expanded","true"),n.setAttribute("aria-hidden","false");const e=n.querySelector('button, a, input, select, textarea, [tabindex]:not([tabindex="-1"])');e&&e.focus()}function d(){n.classList.remove("open"),c.classList.add("opacity-0","invisible"),l.classList.remove("hidden"),r.classList.add("hidden"),document.body.style.overflow="",s.setAttribute("aria-expanded","false"),n.setAttribute("aria-hidden","true"),s.focus()}s.addEventListener("click",function(){n.classList.contains("open")?d():v()}),a.addEventListener("click",d),c.addEventListener("click",d),n.querySelectorAll("a").forEach(e=>{e.addEventListener("click",d)}),document.addEventListener("keydown",function(e){e.key==="Escape"&&n.classList.contains("open")&&d()});function E(e){if(!n.classList.contains("open"))return;const t=n.querySelectorAll('button, a, input, select, textarea, [tabindex]:not([tabindex="-1"])'),o=t[0],i=t[t.length-1];e.key==="Tab"&&(e.shiftKey&&document.activeElement===o?(e.preventDefault(),i.focus()):!e.shiftKey&&document.activeElement===i&&(e.preventDefault(),o.focus()))}document.addEventListener("keydown",E);const f=document.querySelectorAll(".nav-item button");f.forEach(e=>{const t=e.nextElementSibling;e.addEventListener("click",function(o){o.preventDefault();const i=e.getAttribute("aria-expanded")==="true";if(f.forEach(u=>{u!==e&&u.setAttribute("aria-expanded","false")}),e.setAttribute("aria-expanded",(!i).toString()),!i&&t){const u=e.getBoundingClientRect();t.style.top=u.bottom+window.scrollY+"px",t.style.left=u.left+"px";const b=t.querySelector("a");b&&setTimeout(()=>b.focus(),100)}}),e.addEventListener("keydown",function(o){(o.key==="ArrowDown"||o.key==="Enter"||o.key===" ")&&(o.preventDefault(),e.click())})}),document.addEventListener("click",function(e){e.target.closest(".nav-item")||f.forEach(t=>{t.setAttribute("aria-expanded","false")})});function y(){document.querySelectorAll(".nav-item").forEach(t=>{const o=t.querySelector(".nav-dropdown");o&&t.addEventListener("mouseenter",function(){const i=t.getBoundingClientRect();o.style.top=i.bottom+window.scrollY+"px",o.style.left=i.left+"px"})})}y(),window.addEventListener("resize",y);let p=window.scrollY,m=!1;function g(){const e=document.getElementById("main-header"),t=window.scrollY;t>100&&t>p?e.style.transform="translateY(-100%)":e.style.transform="translateY(0)",p=t,m=!1}function L(){m||(requestAnimationFrame(g),m=!0)}window.addEventListener("scroll",L,{passive:!0})});
