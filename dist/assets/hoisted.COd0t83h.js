import"./hoisted.Br07GWtr.js";import"./hoisted.2g7wgElW.js";import"./PremiumCard.astro_astro_type_script_index_0_lang.N8WerdPw.js";import"./hoisted.ClYMe2X5.js";import"./hoisted.DGp4pj1W.js";document.addEventListener("DOMContentLoaded",()=>{const c=document.querySelectorAll(".counter"),n=200,r=t=>{const e=+t.getAttribute("data-target"),o=e/n,i=()=>{const l=+t.innerText;l<e?(t.innerText=Math.ceil(l+o),setTimeout(i,1)):t.innerText=e.toLocaleString()};i()},a={threshold:.1,rootMargin:"50px"},s=new IntersectionObserver(t=>{t.forEach(e=>{if(e.isIntersecting){e.target.classList.add("in-view");const o=e.target.querySelector(".counter");o&&o.innerText==="0"&&r(o)}})},a);document.querySelectorAll(".animate-on-scroll").forEach(t=>{s.observe(t)}),c.forEach(t=>{const e=t.closest(".animate-on-scroll");e&&s.observe(e)})});document.querySelectorAll('a[href^="#"]').forEach(c=>{c.addEventListener("click",function(n){n.preventDefault();const r=document.querySelector(this.getAttribute("href"));r&&r.scrollIntoView({behavior:"smooth",block:"start"})})});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('form[id^="contact-form"]').forEach(n=>{n&&n.addEventListener("submit",async function(r){r.preventDefault();const a=new FormData(n),s=Object.fromEntries(a);if(s.emergency&&confirm("This is an emergency! Would you like to call us directly for immediate assistance?")){window.location.href="tel:(940) 390-5676";return}const t=n.querySelector('button[type="submit"]'),e=t.textContent;t.disabled=!0,t.textContent="Submitting...";try{const o=await fetch("/.netlify/functions/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),i=await o.json();if(o.ok&&i.success)window.location.href="/success";else throw new Error(i.error||"Submission failed")}catch(o){console.error("Form submission error:",o),alert("Unable to submit form. Please call us directly at (940) 390-5676")}finally{t.disabled=!1,t.textContent=e}})})});
