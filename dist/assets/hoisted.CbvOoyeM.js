import"./hoisted.Br07GWtr.js";import"./hoisted.2g7wgElW.js";import"./PremiumCard.astro_astro_type_script_index_0_lang.N8WerdPw.js";import"./hoisted.ClYMe2X5.js";import"./hoisted.DGp4pj1W.js";document.addEventListener("DOMContentLoaded",()=>{const c=document.querySelectorAll(".counter"),i=200,o=n=>{const e=+n.getAttribute("data-target"),t=e/i,u=()=>{const s=+n.innerText;s<e?(n.innerText=Math.ceil(s+t),setTimeout(u,1)):n.innerText=e.toLocaleString()};u()},r={threshold:.1,rootMargin:"50px"},a=new IntersectionObserver(n=>{n.forEach(e=>{if(e.isIntersecting){e.target.classList.add("in-view");const t=e.target.querySelector(".counter");t&&t.innerText==="0"&&o(t)}})},r);document.querySelectorAll(".animate-on-scroll").forEach(n=>{a.observe(n)}),c.forEach(n=>{const e=n.closest(".animate-on-scroll");e&&a.observe(e)})});document.querySelectorAll('a[href^="#"]').forEach(c=>{c.addEventListener("click",function(i){i.preventDefault();const o=document.querySelector(this.getAttribute("href"));o&&o.scrollIntoView({behavior:"smooth",block:"start"})})});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('form[id^="contact-form"]').forEach(i=>{i&&i instanceof HTMLFormElement&&i.addEventListener("submit",async function(o){o.preventDefault(),o.stopPropagation();const r=o.currentTarget,a=r.dataset.apiEndpoint||"/.netlify/functions/contact",n=new FormData(r),e=Object.fromEntries(n);if(e.emergency==="on"&&confirm("This is an emergency! Would you like to call us directly for immediate assistance?")){window.location.href="tel:9403905676";return}const t=r.querySelector('button[type="submit"]');if(!t)return;const u=t.textContent||"Submit";t.disabled=!0,t.textContent="Submitting...";try{const s=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(s.ok){let l;try{l=await s.json()}catch{l={success:!0}}if(l.success){window.location.href="/success";return}}throw new Error("Form submission failed")}catch(s){console.error("Form submission error:",s),r.removeEventListener("submit",arguments.callee),r.action="/success",r.submit()}finally{t&&t.textContent==="Submitting..."&&(t.disabled=!1,t.textContent=u)}})})});
